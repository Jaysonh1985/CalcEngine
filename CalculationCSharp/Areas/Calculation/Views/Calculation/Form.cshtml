@{
    ViewBag.Title = "Input";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<html>

<body ng-controller="calculationCtrl">
    <div ng-include="'/Areas/Project/Scripts/busyModal.html'" ng-show="isLoading" ng-cloak></div>
    <div class="container">
        <br />

        <uib-accordion close-others=false >
            <uib-accordion-group  is-open=true>
                <uib-accordion-heading>
                    <h2 class="panel-title">
                        Calculation Input
                    </h2><i class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                </uib-accordion-heading>
                <br />
                <form ng-submit="CalcButtonClick()">
                    <formly-form model="formset.fields" fields="fieldset">
                        <button type="submit" class="btn btn-default submit-button">Submit</button>
                    </formly-form>
                </form>
            </uib-accordion-group>
        </uib-accordion>

        <uib-accordion close-others=false>
            <uib-accordion-group is-open=true>
                <uib-accordion-heading>
                    <h2 class="panel-title">
                        Calculation Output
                    </h2><i class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                </uib-accordion-heading>

                <div class="container-fluid">
                        <uib-accordion close-others=false ng-model="output">
                            <uib-accordion-group ng-repeat="group in output" ng-init="colIndex = $index" is-open=true>

                                <uib-accordion-heading>
                                    <h4 class="panel-title"> {{group.Group}} </h4>
                                    <i class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                                </uib-accordion-heading>
                                <br />
                                <table id="table" class="table table-bordered table">
                                    <tr class="h4">
                                        <th>
                                            ID
                                        </th>
                                        <th>
                                            Field
                                        </th>
                                        <th>
                                            Value
                                        </th>
                                    <tr ng-repeat="row in group.Output">
                                        <td>
                                            {{row.ID}}
                                        </td>
                                        <td>
                                            {{row.Field}}
                                        </td>
                                        <td>
                                            {{row.Value}}
                                        </td>
                                    </tr>
                                </table>
                            </uib-accordion-group>
                        </uib-accordion>
                    </div>
            </uib-accordion-group>
        </uib-accordion>
</div>
</body>
</html>