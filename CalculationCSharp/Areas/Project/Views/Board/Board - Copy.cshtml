@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div ng-controller="boardCtrl">
    <br />

    <input class="btn btn-default" type="button" value="Save" ng-click="SaveButtonClick()" />
    @*<input class="btn btn-default" type="button" value="CSV" ng-click="CSVButtonClick()" />*@
    <div class="container">

            <h3>Tree 2</h3>
            <div ui-tree id="tree2-root">
                <ol ui-tree-nodes="" data-nodrop-enabled ng-model="columns">
                    <li ng-repeat="col in columns" ui-tree-node>
                        <div class="tree-node">
                            <div class="tree-node-content">
                                <a class="btn btn-success btn-xs" data-nodrag ng-click="toggle(this)">
                                    <span class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed,'glyphicon-chevron-down': !collapsed}">
                                    </span>
                                </a>

                                {{col.Name}}

                                <a class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="AddButtonClick($index)" style="margin-right: 8px;"><span class="glyphicon glyphicon-plus"></span></a>
                            </div>
                        </div>
                        <ol ui-tree-nodes="" ng-model="col.Stories" ng-class="{hidden: collapsed}">
                            <li ng-repeat="story in col.Stories" ui-tree-node>
                                <div class="tree-node">
                                    <div class="pull-left tree-handle" ui-tree-handle>
                                        <span class="glyphicon glyphicon-list"></span>
                                    </div>
                                    <div class="pull-left tree-handle">
                                        <span>M</span>
                                    </div>
                                    <div class="tree-node-content">
                                        {{story.Name}}
                                        <!--<a class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="newSubItem(this)" style="margin-right: 8px;"><span class="glyphicon glyphicon-plus"></span></a>-->
                                    </div>
                                </div>

                            </li>
                        </ol>
                    </li>
                </ol>
            </div>

    </div>

    <h3>Data binding</h3>
    <div class="row">

        <div class="col-sm-6">
            <pre class="code">{{ columns | json }}</pre>
        </div>
    </div>
</div>


