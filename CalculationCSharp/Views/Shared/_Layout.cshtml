<!DOCTYPE html>
<html ng-app="kanbanBoardApp">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Project A.I.M</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link href="~/Content/angular-gridster.min.css" rel="stylesheet" />
    <link href="~/Content/angular-ui-tree.css" rel="stylesheet" />
</head>
<body>
    <link href="~/Content/Site.css" rel="stylesheet" />
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @Html.ActionLink("Project A.I.M", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li>@Html.ActionLink("Home", "Index", "Home", new { area = "" }, null)</li>
                    @Html.Partial("_CalcTypes")
                    <li>@Html.ActionLink("About", "About", "Home", new { area = "" }, null)</li>
                    <li>@Html.ActionLink("Contact", "Contact", "Home", new { area = "" }, null)</li>
                </ul>
                @Html.Partial("_LoginPartial")
            </div>
        </div>
    </div>

    @*<div class="jumbotron">
            <h1>@ViewData["H1"]</h1>
            <p class="lead">@ViewData["P1"]</p>
            <h1 class="hidden">@ViewData["HID1"]</h1>
        </div>*@


    @RenderBody()

    <hr />


    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/jqueryui")
    @*@Scripts.Render("~/bundles/angular")*@
    @Styles.Render("~/Content/cssjqryUi")
    @RenderSection("scripts", required: false)
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="~/Scripts/Calculation/DateFunctions.js"></script>
    <script src="~/Scripts/Calculation/ModalFunctions.js"></script>
    <script src="~/Scripts/Calculation/UI.js"></script>
    <script src="~/Scripts/angular.js"></script>
    <script src="~/Scripts/angular-animate.js"></script>
    <script src="~/Scripts/angular-route.min.js"></script>
    <script src="~/Scripts/jquery.signalR-2.2.0.js"></script>
    <script src="~/Scripts/jquery.ui.touch-punch.min.js"></script>
    <script src="~/Scripts/toastr.js"></script>
    <script src="~/Scripts/angular-ui/ui-bootstrap-tpls.min.js"></script>
    <script src="~/Scripts/angular-ui/sortable.js"></script>
    <script src="~/AppScript/main.js"></script>
    <script src="~/Areas/Project/Scripts/kanbanBoardDragDrop.js"></script>
    <script src="~/Areas/Project/Scripts/boardService.js"></script>
    <script src="~/Areas/Project/Scripts/boardCtrl.js"></script>
    <script src="~/Areas/Project/Scripts/menuCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/groupCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/logicCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/configCtrl.js"></script>
    <script src="~/Areas/Project/Scripts/storyCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/configService.js"></script>
    <script src="~/Areas/Configuration/Scripts/configMenuCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/periodCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/factorsCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/formCtrl.js"></script>
    <script src="~/Areas/Configuration/Scripts/inputCtrl.js"></script>
    <script src="~/Scripts/angular-gridster.min.js"></script>
    <script src="~/Areas/Configuration/Scripts/mathsCtrl.js"></script>
    <script src="~/Scripts/angular-drag-and-drop-lists.js"></script>
    <script src="~/Scripts/angular-touch.js"></script>
    <script src="~/Scripts/ios-drag-drop.js"></script>
    <script src="~/Scripts/angular-long-press.js"></script>
    <script src="~/Scripts/angular-ui-tree.js"></script>
    <script src="~/Scripts/anguladynamicform.js"></script>
    <script>

        //Calc Form Submission
        $('#Download').hide();
        $('#Regression').hide();
        $(function () {
            $("#my-form").on("submit", function (e) {
                e.preventDefault();

                $.ajax({
                    url: this.action,
                    type: this.method,
                    data: $(this).serialize(),
                    success: function (data) {
                        $("#result").html(data);
                        $("#Submit").click(function () {
                            $('#result').show();
                        });
                        $("#Download").click(function () {
                            var form = $("#my-form");
                            form.attr("action", "@Url.Action("Input",null,new { ButtonType = "Download" })");
                            form.submit();
                            $('#result').hide();
                            $('#Submit').hide();
                        });
                        $("#Regression").click(function () {
                            var form = $("#my-form");
                            form.attr("action", "@Url.Action("Input",null,new { ButtonType = "Regression" })");
                            form.submit();
                            $('#Regression').hide()
                            $('#result').hide();
                        });
                        $('#Download').show();
                        $('#Regression').show();
                    }
                })

            })
        })

    </script>

    <script type="text/ng-template" id="customPopupTemplate.html">
        <div class="custom-popup-wrapper"
             ng-style="{top: position().top+'px', left: position().left+'px'}"
             style="display: block;"
             ng-show="isOpen() && !moveInProgress"
             aria-hidden="{{!isOpen()}}">
            <p class="message">select location from drop down.</p>
            <ul class="dropdown-menu" role="listbox">
                <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }"
                    ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">
                    <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>
                </li>
            </ul>
        </div>
    </script>


</body>

</html>
